/*
 Nick Metro
2/27/15
A class to play audio from files in the package
 */
package HearingTest;

import java.io.InputStream;
import javax.sound.sampled.AudioSystem;
import javax.sound.sampled.Clip;
import javax.sound.sampled.FloatControl;
import sun.audio.AudioPlayer;
import sun.audio.AudioStream;


public class Calibration 
{
    String sound;
    float soundLevel;
    
    public Calibration(String file, float level)
    {
        sound = file;
        soundLevel = level;
        playSound(sound, soundLevel);
    }//end contructor
    
    public void playSound(String soundLoc, float level)
    {  
        try
        {
            InputStream inputStream = getClass().getResourceAsStream(soundLoc);
            AudioStream audioStream = new AudioStream(inputStream);
            AudioPlayer.player.start(audioStream);
            Clip myClip = AudioSystem.getClip();
            myClip.open(inputStream);
            FloatControl audioControl = (FloatControl) myClip.getControl(FloatControl.Type.MASTER_GAIN);
            audioControl.setValue(level); //decrease volume 5 decibels
            myClip.start();
        }//end try

        catch (Exception e)
        {
        }//end catch
    }//end playSound method
}//end class MetroSound
